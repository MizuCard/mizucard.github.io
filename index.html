<!--
MiuzuPay Landing v2 — premium fintech dark (Enhanced Motion Pack v2)
Single-file HTML (Tailwind CDN + anime.js)

Updates per request:
1) Recent activity "flows" (auto-cycles vertically, pauses on hover/focus, respects reduced motion)
2) Removed the legal disclaimer block inside the hero card
3) Replaced the tiny square with a real card-proportioned mini card (approx 1.586 ratio)

Keeps:
- Cursor (transform+rAF)
- Subtle load + scroll reveals (anime.js)
- Group stagger reveals (data-stagger)
- Hero product card: scroll parallax + mouse tilt + spotlight combined via CSS vars
- Micro hover lift on [data-anim]
- Marquee
-->
<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MiuzuPay | THE STABLECOIN SPENDING CARD</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://api.fontshare.com/v2/css?f[]=clash-display@200,400,600,700&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.2/anime.min.js"></script>

  <style>
    :root {
      --bg: #06070A;
      --bg2: #0B0C10;

      --panel: rgba(255, 255, 255, 0.06);
      --panel2: rgba(255, 255, 255, 0.08);
      --strokeOuter: rgba(255, 255, 255, 0.10);
      --strokeInner: rgba(0, 0, 0, 0.35);

      --line: rgba(255, 255, 255, 0.12);

      --text: rgba(255, 255, 255, 0.92);
      --muted: rgba(255, 255, 255, 0.62);
      --muted2: rgba(255, 255, 255, 0.40);

      --accent: #B8FF2C;
      --accent2: #4DFFB5;

      --shadowNav: 0 10px 30px rgba(0, 0, 0, 0.55);
      --shadowCard: 0 22px 60px rgba(0, 0, 0, 0.65);
      --shadowTight: 0 8px 22px rgba(0, 0, 0, 0.55);
    }

    html,
    body {
      background-color: var(--bg);
      background-image:
        radial-gradient(1100px 560px at 18% 10%, rgba(184, 255, 44, 0.13), transparent 62%),
        radial-gradient(980px 560px at 86% 8%, rgba(77, 255, 181, 0.11), transparent 64%),
        radial-gradient(1200px 760px at 50% 58%, rgba(184, 255, 44, 0.08), transparent 58%),
        radial-gradient(1600px 980px at 50% 0%, transparent 34%, rgba(0, 0, 0, 0.74) 100%),
        linear-gradient(to bottom, rgba(184, 255, 44, 0.06), transparent 45%);
      background-repeat: no-repeat;
      color: var(--text);
      font-family: 'Clash Display', system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    body {
      overflow-x: hidden;
    }

    ::selection {
      background: rgba(178, 240, 66, .25);
    }

    /* Ambient layer (very subtle, behind content) */
    .ambient {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }

    .ambient .blob {
      position: absolute;
      width: 520px;
      height: 520px;
      border-radius: 999px;
      filter: blur(90px);
      opacity: .10;
      transform: translate3d(0, 0, 0);
      will-change: transform;
    }

    .ambient .a {
      left: -180px;
      top: -180px;
      background: rgba(184, 255, 44, .95);
      animation: blobA 18s ease-in-out infinite alternate;
    }

    .ambient .b {
      right: -200px;
      top: 80px;
      background: rgba(77, 255, 181, .90);
      animation: blobB 22s ease-in-out infinite alternate;
    }

    @keyframes blobA {
      from {
        transform: translate3d(-10px, 0, 0) scale(1);
      }

      to {
        transform: translate3d(18px, 14px, 0) scale(1.08);
      }
    }

    @keyframes blobB {
      from {
        transform: translate3d(8px, -6px, 0) scale(1);
      }

      to {
        transform: translate3d(-16px, 16px, 0) scale(1.06);
      }
    }

    /* Noise overlay (softened + larger tile + GPU layer) */
    .noise {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 40;
      background: url('data:image/svg+xml;utf8,%3Csvg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="n"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23n)" opacity="0.06"/%3E%3C/svg%3E');
      background-size: 720px 720px;
      mix-blend-mode: soft-light;
      opacity: .75;
      transform: translateZ(0);
      will-change: transform;
    }

    /* Ensure content sits above ambient */
    main {
      position: relative;
      z-index: 10;
    }

    /* === PREMIUM GLASS CARD === */
    .card-premium {
      position: relative;
      border-radius: 24px;
      background: var(--panel);
      border: 1px solid var(--strokeOuter);
      box-shadow: var(--shadowCard);
      -webkit-backdrop-filter: blur(16px);
      backdrop-filter: blur(16px);
      overflow: hidden;

      transform: translateZ(0);
      will-change: transform;
      backface-visibility: hidden;
      isolation: isolate;
    }

    .card-premium::before {
      content: "";
      position: absolute;
      inset-inline: 0;
      top: 0;
      height: 96px;
      border-radius: 24px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0.10), transparent);
      pointer-events: none;
    }

    .card-premium::after {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 23px;
      border: 1px solid rgba(0, 0, 0, 0.35);
      pointer-events: none;
    }

    /* Cursor (transform + rAF) */
    .cursor {
      display: none;
    }

    @media (pointer:fine) and (prefers-reduced-motion:no-preference) {
      body.cursor-on {
        cursor: none;
      }

      .cursor {
        display: block;
        width: 18px;
        height: 18px;
        border: 1px solid rgba(255, 255, 255, .60);
        border-radius: 999px;
        position: fixed;
        left: 0;
        top: 0;
        pointer-events: none;
        z-index: 9999;
        transition: width .25s, height .25s, background-color .25s, border-color .25s;
        mix-blend-mode: difference;
        transform: translate3d(var(--x, 0px), var(--y, 0px), 0) translate(-50%, -50%);
        will-change: transform;
      }

      .cursor.active {
        width: 70px;
        height: 70px;
        background: #fff;
        border-color: transparent;
      }
    }

    @media (prefers-reduced-motion: reduce) {

      .anim,
      [data-anim] {
        transition: none !important;
        animation: none !important;
      }

      .ambient {
        display: none !important;
      }
    }

    /* Marquee (GPU friendly) */
    @keyframes marqueeMove {
      0% {
        transform: translate3d(0, 0, 0);
      }

      100% {
        transform: translate3d(-50%, 0, 0);
      }
    }

    .marquee-track {
      display: flex;
      width: 200%;
      will-change: transform;
      animation: marqueeMove 18s linear infinite;
    }

    /* Reveal baseline:
       - everything slides in except heroCardWrap (it uses CSS-var transform for parallax/tilt) */
    [data-reveal]:not(#heroCardWrap) {
      opacity: 0;
      transform: translate3d(0, 10px, 0);
    }

    #heroCardWrap {
      opacity: 0;
    }

    /* Nav underline: single element */
    #navUnderline {
      left: 0;
      width: 40px;
      transform: translate3d(0, 0, 0);
      transition: transform .22s cubic-bezier(.2, .8, .2, 1), width .22s cubic-bezier(.2, .8, .2, 1), opacity .22s;
      opacity: .95;
    }

    /* safety: if any aria-current pseudo remains, hide it */
    header nav a[aria-current="page"]::after {
      content: none !important;
    }

    /* Hero card combined transform via CSS vars (parallax + tilt) */
    #heroCardWrap {
      transform:
        translate3d(0, var(--py, 0px), 0) rotate(var(--pr, 0deg)) perspective(900px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg)) translateZ(0);
      transform-style: preserve-3d;
      will-change: transform, opacity;
    }

    /* Spotlight overlay */
    .spotlight-layer {
      position: absolute;
      inset: -1px;
      border-radius: 24px;
      pointer-events: none;
      background: radial-gradient(600px circle at var(--mx, 50%) var(--my, 50%),
          rgba(184, 255, 44, .20), transparent 42%);
      opacity: 0;
      transition: opacity .18s cubic-bezier(.2, .8, .2, 1);
      mix-blend-mode: screen;
    }

    .has-spotlight:hover .spotlight-layer {
      opacity: 1;
    }

    /* Recent activity flow (transform-based, no layout thrash) */
    [data-activity-list] {
      will-change: transform;
    }
  </style>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            bg: "var(--bg)",
            bg2: "var(--bg2)",
            panel: "var(--panel)",
            panel2: "var(--panel2)",
            text: "var(--text)",
            muted: "var(--muted)",
            muted2: "var(--muted2)",
            accent: "var(--accent)",
            accent2: "var(--accent2)",
            line: "var(--line)"
          },
          boxShadow: {
            nav: "var(--shadowNav)",
            card: "var(--shadowCard)",
            tight: "var(--shadowTight)"
          }
        }
      }
    }
  </script>
</head>

<body class="min-h-screen">
  <!-- Ambient blobs are injected via JS (disabled for reduced motion) -->
  <div class="noise"></div>
  <div class="cursor" aria-hidden="true"></div>

  <!-- NAV -->
  <header class="sticky top-0 z-50">
    <div class="mx-auto max-w-6xl px-6">
      <div id="navBar"
        class="relative isolate mx-auto mt-4 flex max-w-6xl items-center justify-between rounded-full px-4 py-3 backdrop-blur-xl bg-black/40 border border-white/10 shadow-[0_10px_30px_rgba(0,0,0,0.45)]
               before:content-[''] before:absolute before:inset-0 before:rounded-full before:bg-gradient-to-b before:from-black/35 before:to-black/10 before:pointer-events-none
               after:content-[''] after:absolute after:inset-x-4 after:-bottom-px after:h-px after:bg-white/10 after:pointer-events-none">

        <a class="hover-trigger flex items-center gap-3" href="#">
          <span
            class="inline-flex h-9 w-9 items-center justify-center rounded-2xl border border-white/[0.10] bg-white/[0.04]">
            <span class="h-2 w-2 rounded-full bg-accent"></span>
          </span>
          <span class="text-sm tracking-[.22em] font-semibold uppercase">MiuzuPay</span>
        </a>

        <nav id="navMenu"
          class="hidden md:flex items-center gap-8 text-xs uppercase tracking-[.22em] font-semibold relative">
          <a class="hover-trigger relative px-2 py-2 text-white/70 hover:text-white transition-colors aria-[current=page]:text-white"
            href="#features">Features</a>
          <a class="hover-trigger relative px-2 py-2 text-white/70 hover:text-white transition-colors aria-[current=page]:text-white"
            href="#how">How it works</a>
          <a class="hover-trigger relative px-2 py-2 text-white/70 hover:text-white transition-colors aria-[current=page]:text-white"
            href="#faq">FAQ</a>

          <!-- Single underline element -->
          <span id="navUnderline"
            class="pointer-events-none absolute -bottom-2.5 h-[2px] rounded-full bg-lime-400 shadow-[0_0_18px_rgba(163,230,53,0.85)]"></span>
        </nav>

        <div class="flex items-center gap-3">
          <a href="#how"
            class="hover-trigger hidden sm:inline-flex rounded-full border border-white/12 bg-white/6 px-5 py-2 text-xs uppercase tracking-[.22em] text-white/80 hover:bg-white/10 hover:text-white transition font-semibold">
            How it works
          </a>

          <button
            class="hover-trigger inline-flex items-center gap-2 rounded-full bg-accent px-6 py-2 text-xs uppercase tracking-[.22em] text-black font-semibold hover:brightness-110 active:scale-[0.98] transition">
            Join Waitlist <span aria-hidden="true">↗</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="pt-24 lg:pt-20">
    <!-- HERO -->
    <!-- HERO -->
    <section class="relative left-1/2 w-screen -translate-x-1/2 max-w-none overflow-hidden">
      <div class="relative z-20 mx-auto max-w-7xl px-6">
        <!-- 
          GÜNCELLEME: 
          items-start -> items-stretch yapıldı (ikisi de eşit boyda olsun diye).
        -->
        <div class="grid lg:grid-cols-12 gap-10 lg:gap-8 items-stretch">

          <!-- SOL SÜTUN -->
          <div class="lg:col-span-7 flex flex-col justify-between">
            <div>
              <div data-reveal
                class="inline-flex items-center gap-2 rounded-full border border-line bg-white/5 px-4 py-2 text-xs uppercase tracking-[.22em] text-muted font-semibold">
                <span class="h-2 w-2 rounded-full bg-accent"></span>
                <span>Payments, in flow</span>
              </div>

              <h1 data-reveal
                class="mt-7 md:mt-6 lg:mt-5 text-[12vw] leading-[0.86] font-semibold tracking-[-0.04em] uppercase md:text-6xl lg:text-7xl">
                Spend your crypto,<br />
                <span
                  class="bg-gradient-to-r from-[var(--accent)] to-[var(--accent2)] bg-clip-text text-transparent">instantly.</span>
              </h1>

              <p data-reveal
                class="mt-5 md:mt-4 max-w-xl text-base md:text-lg text-muted leading-relaxed font-semibold">
                Convert your crypto balance into instant card spend — compatible with Apple Pay–style wallets where
                available.
              </p>

              <p data-reveal
                class="mt-3 md:mt-2 max-w-xl text-sm md:text-base text-muted2 leading-relaxed font-semibold">
                Built for speed, clarity, and a real product feel — not just a concept page.
              </p>

              <div data-reveal class="mt-8 md:mt-6 flex flex-col sm:flex-row gap-3">
                <button
                  class="hover-trigger rounded-full bg-accent px-7 py-3 text-xs uppercase tracking-[.22em] text-black font-semibold hover:brightness-110 active:scale-[0.98] transition">
                  Join Waitlist
                </button>

                <a href="#features"
                  class="hover-trigger rounded-full border border-line bg-white/5 px-7 py-3 text-xs uppercase tracking-[.22em] text-text hover:bg-white hover:text-black transition inline-flex items-center justify-center gap-2 font-semibold">
                  See features <span aria-hidden="true">↓</span>
                </a>
              </div>
            </div>

            <!-- Alt Bilgi Kartları (Sol sütunun altını doldurur) -->
            <div class="mt-10 lg:mt-12 grid grid-cols-2 md:grid-cols-3 gap-4" data-stagger>
              <div data-reveal class="card-premium p-5">
                <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Speed</div>
                <div class="mt-2 text-2xl font-semibold">Instant</div>
                <div class="mt-2 text-sm text-muted font-semibold">Top up → spend with minimal delay.</div>
              </div>
              <div data-reveal class="card-premium p-5">
                <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Control</div>
                <div class="mt-2 text-2xl font-semibold">Limits</div>
                <div class="mt-2 text-sm text-muted font-semibold">Rules, alerts, and spend visibility.</div>
              </div>
              <div data-reveal class="card-premium p-5 col-span-2 md:col-span-1">
                <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Reach</div>
                <div class="mt-2 text-2xl font-semibold">Global</div>
                <div class="mt-2 text-sm text-muted font-semibold">Online first, wallet-native extensions.</div>
              </div>
            </div>
          </div>

          <!-- SAĞ SÜTUN / CARD MOCK -->
          <!-- flex flex-col ekledik ki içerik tamamen yayılabilsin -->
          <div class="lg:col-span-5 flex flex-col">
            <!-- 
               GÜNCELLEME: 
               h-full ve flex flex-col eklendi. Böylece kart, sol sütunun uzunluğuna eşitledi kendini.
               justify-between ile içerik dengeli dağıtıldı.
            -->
            <div class="card-premium p-6 pb-9 lg:p-5 lg:pb-8 relative has-spotlight h-full flex flex-col"
              id="heroCardWrap" data-reveal data-parallax data-tilt data-spotlight>

              <div class="absolute inset-0 pointer-events-none">
                <div class="absolute -top-16 -left-16 h-64 w-64 rounded-full bg-accent/18 blur-[70px]"></div>
                <div class="absolute bottom-[-90px] right-[-70px] h-72 w-72 rounded-full bg-purple-500/14 blur-[90px]">
                </div>
              </div>

              <!-- Spotlight overlay -->
              <div class="spotlight-layer" aria-hidden="true"></div>

              <div class="relative flex flex-col h-full">
                <!-- Header -->
                <div>
                  <div class="flex items-center justify-between">
                    <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">MiuzuPay / Virtual</div>
                    <div
                      class="rounded-full border border-line bg-black/35 px-3 py-1 text-[11px] uppercase tracking-[.22em] text-muted font-semibold">
                      ACTIVE
                    </div>
                  </div>

                  <!-- MODERN PREMIUM WALLET CARD (COMPACT) -->
                  <div class="mt-5 lg:mt-4 group relative rounded-3xl p-[1px]
            bg-gradient-to-br from-white/10 via-lime-400/20 to-cyan-400/20
            shadow-[0_26px_70px_-35px_rgba(0,0,0,0.85)]
            transition-all duration-500 hover:shadow-[0_34px_95px_-45px_rgba(0,0,0,0.9)]">

                    <div
                      class="relative rounded-3xl overflow-hidden bg-zinc-950/75 backdrop-blur-xl border border-white/5">

                      <!-- Ambient mesh / aurora (slightly smaller) -->
                      <div class="pointer-events-none absolute -top-36 -left-24 h-[280px] w-[280px] rounded-full
                bg-[radial-gradient(circle_at_center,rgba(163,230,53,0.28),transparent_60%)]
                blur-2xl opacity-75 transition duration-700
                group-hover:opacity-95 group-hover:scale-110"></div>

                      <div class="pointer-events-none absolute -bottom-40 -right-28 h-[320px] w-[320px] rounded-full
                bg-[radial-gradient(circle_at_center,rgba(34,211,238,0.20),transparent_60%)]
                blur-2xl opacity-65 transition duration-700
                group-hover:opacity-90 group-hover:scale-110"></div>

                      <!-- Subtle vignette -->
                      <div class="pointer-events-none absolute inset-0
                bg-[radial-gradient(1100px_circle_at_50%_-10%,rgba(255,255,255,0.10),transparent_55%),
                    radial-gradient(760px_circle_at_30%_110%,rgba(163,230,53,0.10),transparent_60%)]"></div>

                      <!-- Moving sheen -->
                      <div class="pointer-events-none absolute -inset-x-40 top-0 h-px
                bg-gradient-to-r from-transparent via-white/35 to-transparent
                opacity-25 translate-x-[-35%] transition-transform duration-700
                group-hover:translate-x-[35%]"></div>

                      <!-- Film grain -->
                      <div class="pointer-events-none absolute inset-0 opacity-[0.055] mix-blend-overlay"
                        style="background-image:url('data:image/svg+xml,%3Csvg viewBox=%270 0 200 200%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cfilter id=%27n%27%3E%3CfeTurbulence type=%27fractalNoise%27 baseFrequency=%270.85%27 numOctaves=%273%27 stitchTiles=%27stitch%27/%3E%3C/filter%3E%3Crect width=%27100%25%27 height=%27100%25%27 filter=%27url(%23n)%27 opacity=%270.55%27/%3E%3C/svg%3E');">
                      </div>

                      <!-- CONTENT -->
                      <div class="relative z-10 p-5 lg:p-6">

                        <!-- TOP -->
                        <div class="flex items-start justify-between gap-4">
                          <div class="min-w-0">
                            <div class="flex items-center gap-2">
                              <div class="h-1.5 w-1.5 rounded-full bg-lime-400
                        shadow-[0_0_10px_rgba(163,230,53,0.75)]"></div>
                              <div class="text-[9px] uppercase tracking-[.28em] text-white/55 font-semibold">
                                Available
                              </div>
                            </div>

                            <div class="mt-2 flex items-end gap-2">
                              <!-- Count-up (senin yapı) -->
                              <div
                                class="text-[34px] lg:text-[38px] font-semibold tracking-tight text-white leading-none">
                                $<span data-countup="" data-to="14950" data-decimals="2">
                                  <span data-countup-int="">14,950</span>
                                  <span class="text-white/55 text-[18px] font-medium">.<span
                                      data-countup-dec="">00</span></span>
                                </span>
                              </div>

                              <div class="mb-0.5 px-2 py-1 rounded-full border border-white/10 bg-white/5
                        text-[9px] uppercase tracking-[.18em] text-white/55">
                                balance
                              </div>
                            </div>
                          </div>

                          <!-- MINI BADGE (smaller) -->
                          <div class="relative shrink-0 rounded-2xl border border-white/10 bg-white/5 px-3 py-2.5
                    backdrop-blur-md overflow-hidden transition duration-500
                    group-hover:border-lime-400/30 group-hover:bg-white/[0.07]">
                            <div class="pointer-events-none absolute inset-0
                      bg-[radial-gradient(120px_circle_at_30%_20%,rgba(255,255,255,0.18),transparent_55%)]
                      opacity-70"></div>

                            <div class="relative flex items-center gap-2.5">
                              <div class="h-8 w-8 rounded-xl border border-white/10
                        bg-gradient-to-br from-white/15 to-transparent
                        flex items-center justify-center">
                                <span class="text-[11px] font-bold tracking-widest text-white/70
                           group-hover:text-lime-300 transition-colors">MP</span>
                              </div>

                              <div class="leading-tight">
                                <div class="text-[9px] uppercase tracking-[.22em] text-white/50">Wallet</div>
                                <div class="text-[11px] font-semibold text-white/80">Premium</div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- BOTTOM (tighter) -->
                        <div class="mt-7 flex items-end justify-between">
                          <div>
                            <div class="text-[10px] font-mono tracking-[.28em] text-white/55">•••• 4092</div>
                          </div>

                          <div class="flex items-center gap-2">
                            <div class="h-2 w-2 rounded-full bg-cyan-300/70
                      shadow-[0_0_12px_rgba(34,211,238,0.55)]"></div>
                            <div class="px-3 py-1.5 rounded-full border border-white/10 bg-white/5
                      text-[9px] uppercase tracking-[.20em] text-white/60
                      transition duration-300 group-hover:border-cyan-300/25">
                              SOL <span class="text-white/25">/</span> USDC
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                </div>

                <!-- 
                   Flow container: h-[152px] yerine flex-1 eklendi. 
                   Böylece kart uzadığında bu alan da uzayacak ve boşluk oluşmayacak.
                -->
                <div class="mt-6 lg:mt-5 flex-1 flex flex-col min-h-[160px]">
                  <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Recent activity</div>

                  <div class="mt-3 relative overflow-hidden flex-1 min-h-[200px] max-h-[340px]" data-activity-flow>
                    <!-- soft fades -->
                    <div
                      class="pointer-events-none absolute inset-x-0 top-0 h-8 bg-gradient-to-b from-black/35 to-transparent z-10">
                    </div>
                    <div
                      class="pointer-events-none absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-black/35 to-transparent z-10">
                    </div>

                    <div class="flex flex-col gap-2" data-activity-list>
                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Wallet Payment</div>
                          <div class="text-xs text-muted2 font-semibold">2 min ago</div>
                        </div>
                        <div class="text-sm font-semibold">- $22.40</div>
                      </div>

                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Online purchase</div>
                          <div class="text-xs text-muted2 font-semibold">12 min ago</div>
                        </div>
                        <div class="text-sm font-semibold">- $68.10</div>
                      </div>
                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Deposit</div>
                          <div class="text-xs text-muted2 font-semibold">1 hour ago</div>
                        </div>
                        <div class="text-sm font-semibold">+ $2250.00</div>
                      </div>

                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Subscription</div>
                          <div class="text-xs text-muted2 font-semibold">3 hours ago</div>
                        </div>
                        <div class="text-sm font-semibold">- $9.90</div>
                      </div>
                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Refund</div>
                          <div class="text-xs text-muted2 font-semibold">Yesterday</div>
                        </div>
                        <div class="text-sm font-semibold text-accent">+ $32.00</div>
                      </div>
                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Card verification</div>
                          <div class="text-xs text-muted2 font-semibold">2 days ago</div>
                        </div>
                        <div class="text-sm font-semibold text-accent">- $1.00</div>
                      </div>

                      <div data-reveal
                        class="flex items-center justify-between rounded-xl border border-line bg-white/6 p-3 hover:bg-white/[0.08] transition">
                        <div>
                          <div class="text-sm font-semibold">Transfer</div>
                          <div class="text-xs text-muted2 font-semibold">4 days ago</div>
                        </div>
                        <div class="text-sm font-semibold text-accent">+ $120.00</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Footer Buttons -->
                <div class="mt-6 flex gap-2">
                  <button
                    class="hover-trigger flex-1 rounded-xl bg-accent px-4 py-3 text-xs uppercase tracking-[.22em] text-black font-semibold hover:brightness-110 active:scale-[0.98] transition">
                    Add funds
                  </button>
                  <button
                    class="hover-trigger flex-1 rounded-xl border border-line bg-white/6 px-4 py-3 text-xs uppercase tracking-[.22em] text-text hover:bg-white hover:text-black transition font-semibold">
                    Limits
                  </button>
                </div>

                <div class="h-1" aria-hidden="true"></div>
              </div>
            </div>

            <div
              class="mt-5 lg:mt-4 flex items-center justify-between text-xs uppercase tracking-[.22em] text-muted2 font-semibold"
              data-reveal>
              <span>Minimal friction</span><span class="text-accent">•</span>
              <span>Product-first</span><span class="text-accent">•</span>
              <span>Composable rails</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- MARQUEE -->
    <section class="mt-20 border-y border-line bg-accent text-black overflow-hidden">
      <div class="marquee-track whitespace-nowrap py-10">
        <div class="flex">
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12">Instant Spend —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12"
            style="-webkit-text-stroke: 1px black; color: transparent;">Wallet Native —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12">Real Product Feel —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12"
            style="-webkit-text-stroke: 1px black; color: transparent;">Low Friction —</span>

          <!-- repeat once for seamless loop -->
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12">Instant Spend —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12"
            style="-webkit-text-stroke: 1px black; color: transparent;">Wallet Native —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12">Real Product Feel —</span>
          <span class="text-[7vw] md:text-6xl font-semibold uppercase mr-12"
            style="-webkit-text-stroke: 1px black; color: transparent;">Low Friction —</span>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="py-24">
      <div class="mx-auto max-w-7xl px-6">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-8">
          <div>
            <h2 data-reveal class="text-4xl md:text-6xl font-semibold tracking-[-0.03em]">
              Built for speed.<br><span
                class="bg-gradient-to-r from-[var(--accent)] to-[var(--accent2)] bg-clip-text text-transparent">Designed
                for trust.</span>
            </h2>
            <p data-reveal class="mt-4 max-w-2xl text-muted leading-relaxed font-semibold">
              A SolCard-like experience — but tighter, clearer, and more product-forward.
            </p>
          </div>
          <a data-reveal
            class="hover-trigger rounded-full border border-line bg-white/6 px-6 py-3 text-xs uppercase tracking-[.22em] hover:bg-white hover:text-black transition font-semibold"
            href="#faq">
            Read FAQ ↗
          </a>
        </div>

        <div class="mt-12 grid md:grid-cols-3 gap-4" data-stagger>
          <div class="card-premium p-6" data-anim data-reveal>
            <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">01 / UX</div>
            <div class="mt-2 text-2xl font-semibold">One-flow onboarding</div>
            <p class="mt-3 text-muted font-semibold">Connect, fund, spend — with fewer decisions.</p>
          </div>
          <div class="card-premium p-6" data-anim data-reveal>
            <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">02 / Control</div>
            <div class="mt-2 text-2xl font-semibold">Rules & limits</div>
            <p class="mt-3 text-muted font-semibold">Spending limits, categories, and alerts.</p>
          </div>
          <div class="card-premium p-6" data-anim data-reveal>
            <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">03 / Reach</div>
            <div class="mt-2 text-2xl font-semibold">Online + wallet pay</div>
            <p class="mt-3 text-muted font-semibold">E-commerce first, wallet-compatible extensions.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW -->
    <section id="how" class="py-24 border-t border-line bg-bg2">
      <div class="mx-auto max-w-7xl px-6">
        <div class="grid lg:grid-cols-12 gap-10">
          <div class="lg:col-span-5">
            <h3 data-reveal class="text-4xl md:text-5xl font-semibold tracking-[-0.03em]">How it works</h3>
            <p data-reveal class="mt-4 text-muted leading-relaxed font-semibold">
              Three steps. Clear story. Zero filler.
            </p>

            <div class="mt-10 space-y-3" data-stagger>
              <div class="card-premium p-6 hover-trigger" data-anim data-reveal>
                <div class="flex items-center justify-between">
                  <div class="text-sm uppercase tracking-[.22em] text-muted2 font-semibold">01</div>
                  <div class="text-accent">↗</div>
                </div>
                <div class="mt-2 text-2xl font-semibold">Connect</div>
                <p class="mt-2 text-muted font-semibold">Link your wallet and create your card profile.</p>
              </div>

              <div class="card-premium p-6 hover-trigger" data-anim data-reveal>
                <div class="flex items-center justify-between">
                  <div class="text-sm uppercase tracking-[.22em] text-muted2 font-semibold">02</div>
                  <div class="text-accent">↗</div>
                </div>
                <div class="mt-2 text-2xl font-semibold">Fund</div>
                <p class="mt-2 text-muted font-semibold">Deposit crypto/stables — balance updates instantly.</p>
              </div>

              <div class="card-premium p-6 hover-trigger" data-anim data-reveal>
                <div class="flex items-center justify-between">
                  <div class="text-sm uppercase tracking-[.22em] text-muted2 font-semibold">03</div>
                  <div class="text-accent">↗</div>
                </div>
                <div class="mt-2 text-2xl font-semibold">Spend</div>
                <p class="mt-2 text-muted font-semibold">Use online and via supported wallet-pay integrations.</p>
              </div>
            </div>
          </div>

          <div class="lg:col-span-7">
            <div class="card-premium p-8 h-full relative" data-anim data-reveal>
              <div class="relative">
                <div class="flex items-center justify-between">
                  <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Miuzu Console</div>
                  <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">v0.1</div>
                </div>

                <div class="mt-6 grid sm:grid-cols-2 gap-4">
                  <div class="rounded-2xl border border-black/70 bg-black/45 p-6">
                    <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Today spent</div>
                    <div class="mt-2 text-3xl font-semibold">$128.90</div>
                    <div class="mt-3 h-2 w-full rounded-full bg-white/12 overflow-hidden">
                      <div class="h-full w-[42%] bg-accent"></div>
                    </div>
                    <div class="mt-2 text-xs text-muted2 font-semibold">Limit usage: 42%</div>
                  </div>
                  <div class="rounded-2xl border border-black/70 bg-black/45 p-6">
                    <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Status</div>
                    <div class="mt-2 text-3xl font-semibold">Healthy</div>
                    <div class="mt-2 text-sm text-muted font-semibold">Monitoring and alerts enabled.</div>
                    <div
                      class="mt-4 inline-flex items-center gap-2 rounded-full border border-line bg-white/6 px-3 py-1 text-[11px] uppercase tracking-[.22em] text-muted2 font-semibold">
                      <span class="h-2 w-2 rounded-full bg-accent"></span>
                      <span>Active</span>
                    </div>
                  </div>
                </div>

                <div class="mt-6 rounded-2xl border border-black/70 bg-black/45 p-6">
                  <div class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Routing</div>
                  <div class="mt-3 grid md:grid-cols-3 gap-3">
                    <div class="rounded-xl border border-line bg-white/6 p-4">
                      <div class="text-sm font-semibold">Auto-convert</div>
                      <div class="text-xs text-muted2 font-semibold mt-1">Stable → spend</div>
                    </div>
                    <div class="rounded-xl border border-line bg-white/6 p-4">
                      <div class="text-sm font-semibold">Smart limits</div>
                      <div class="text-xs text-muted2 font-semibold mt-1">Category rules</div>
                    </div>
                    <div class="rounded-xl border border-line bg-white/6 p-4">
                      <div class="text-sm font-semibold">Alerts</div>
                      <div class="text-xs text-muted2 font-semibold mt-1">Real-time</div>
                    </div>
                  </div>
                </div>

                <div class="mt-6 flex flex-col sm:flex-row gap-3">
                  <button
                    class="hover-trigger rounded-xl bg-accent px-6 py-3 text-xs uppercase tracking-[.22em] text-black font-semibold hover:brightness-110 active:scale-[0.98] transition">
                    Join Waitlist
                  </button>
                  <a href="#features"
                    class="hover-trigger rounded-xl border border-line bg-white/6 px-6 py-3 text-xs uppercase tracking-[.22em] hover:bg-white hover:text-black transition font-semibold text-center">
                    View features ↗
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="py-24">
      <div class="mx-auto max-w-7xl px-6">
        <div class="flex items-end justify-between gap-8">
          <h3 data-reveal class="text-4xl md:text-5xl font-semibold tracking-[-0.03em]">FAQ</h3>
          <div data-reveal class="text-xs uppercase tracking-[.22em] text-muted2 font-semibold">Short, readable, direct
          </div>
        </div>

        <div class="mt-10 grid md:grid-cols-2 gap-4" data-stagger>
          <details class="card-premium p-6 group" data-anim data-reveal>
            <summary class="cursor-pointer list-none flex items-center justify-between">
              <span class="text-lg font-semibold">What is MiuzuPay?</span>
              <span class="text-accent group-open:rotate-45 transition">+</span>
            </summary>
            <p class="mt-3 text-muted leading-relaxed font-semibold">
              A wallet-to-card experience designed to make crypto balances usable for everyday spending.
            </p>
          </details>

          <details class="card-premium p-6 group" data-anim data-reveal>
            <summary class="cursor-pointer list-none flex items-center justify-between">
              <span class="text-lg font-semibold">Is it available in my country?</span>
              <span class="text-accent group-open:rotate-45 transition">+</span>
            </summary>
            <p class="mt-3 text-muted leading-relaxed font-semibold">
              Availability depends on the provider and local requirements. We’ll confirm during onboarding.
            </p>
          </details>

          <details class="card-premium p-6 group" data-anim data-reveal>
            <summary class="cursor-pointer list-none flex items-center justify-between">
              <span class="text-lg font-semibold">What wallets are supported?</span>
              <span class="text-accent group-open:rotate-45 transition">+</span>
            </summary>
            <p class="mt-3 text-muted leading-relaxed font-semibold">
              Wallet support varies by integration (e.g., Apple Pay–style wallets where available).
            </p>
          </details>

          <details class="card-premium p-6 group" data-anim data-reveal>
            <summary class="cursor-pointer list-none flex items-center justify-between">
              <span class="text-lg font-semibold">What’s the goal of this page?</span>
              <span class="text-accent group-open:rotate-45 transition">+</span>
            </summary>
            <p class="mt-3 text-muted leading-relaxed font-semibold">
              Collect early access requests and show a product-forward preview.
            </p>
          </details>
        </div>
      </div>
    </section>

    <!-- CTA FOOTER -->
    <section id="waitlist" class="py-20 border-t border-line bg-bg2">
      <div class="mx-auto max-w-7xl px-6">
        <div class="card-premium p-10 md:p-12 relative" data-reveal>
          <div class="relative grid lg:grid-cols-12 gap-10 items-center">
            <div class="lg:col-span-7">
              <h4 class="text-4xl md:text-6xl font-semibold tracking-[-0.03em]">
                Join the flow.<br><span
                  class="bg-gradient-to-r from-[var(--accent)] to-[var(--accent2)] bg-clip-text text-transparent">Get
                  early access.</span>
              </h4>
              <p class="mt-4 text-muted max-w-xl leading-relaxed font-semibold">
                No spam — just product updates and onboarding invites.
              </p>
            </div>
            <div class="lg:col-span-5">
              <form class="flex flex-col gap-3">
                <input
                  class="rounded-2xl border border-line bg-black/45 px-5 py-4 text-sm outline-none focus:border-white/30 text-text font-semibold"
                  placeholder="Email (you@domain.com)" type="email" />
                <button type="button"
                  class="hover-trigger rounded-2xl bg-accent px-6 py-4 text-xs uppercase tracking-[.22em] text-black font-semibold hover:brightness-110 active:scale-[0.98] transition">
                  Join Waitlist
                </button>
                <p class="text-[12px] text-muted2 leading-relaxed font-semibold">
                  By joining, you agree to receive early-access updates.
                </p>
              </form>
            </div>
          </div>
        </div>

        <footer
          class="mt-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6 text-xs uppercase tracking-[.22em] text-muted2 font-semibold">
          <div>© <span id="year"></span> MiuzuPay</div>
          <div class="flex gap-6">
            <a class="hover-trigger hover:text-text transition" href="#">Terms</a>
            <a class="hover-trigger hover:text-text transition" href="#">Privacy</a>
            <a class="hover-trigger hover:text-text transition" href="#">X</a>
          </div>
        </footer>
      </div>
    </section>
  </main>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const finePointer = window.matchMedia('(pointer: fine)').matches;

    /* ---------------------------
     * Ambient blobs (very subtle)
     * --------------------------*/
    if (!prefersReduced) {
      const ambient = document.createElement('div');
      ambient.className = 'ambient';
      ambient.innerHTML = '<div class="blob a"></div><div class="blob b"></div>';
      document.body.prepend(ambient);
    }

    /* ---------------------------
     * Navbar scroll state
     * --------------------------*/
    const navBar = document.getElementById('navBar');
    if (navBar) {
      const onScroll = () => {
        const scrolled = window.scrollY > 12;
        if (scrolled) {
          navBar.classList.add('bg-black/60', 'border-white/15');
          navBar.classList.remove('bg-black/40', 'border-white/10');
        } else {
          navBar.classList.add('bg-black/40', 'border-white/10');
          navBar.classList.remove('bg-black/60', 'border-white/15');
        }
      };
      onScroll();
      window.addEventListener('scroll', onScroll, { passive: true });
    }

    /* ---------------------------
     * Navbar active (hash + scroll) + underline slide
     * --------------------------*/
    const navMenu = document.getElementById('navMenu');
    const navUnderline = document.getElementById('navUnderline');
    const navLinks = Array.from(document.querySelectorAll('header nav a[href^="#"]'));

    const sectionIds = navLinks.map(a => (a.getAttribute('href') || '').slice(1)).filter(Boolean);
    const sections = sectionIds.map(id => document.getElementById(id)).filter(Boolean);

    const moveUnderlineTo = (a) => {
      if (!navMenu || !navUnderline || !a) return;
      const navRect = navMenu.getBoundingClientRect();
      const r = a.getBoundingClientRect();
      const x = r.left - navRect.left;
      navUnderline.style.width = `${r.width}px`;
      navUnderline.style.transform = `translate3d(${x}px, 0, 0)`;
    };

    const setNavActive = (hash) => {
      navLinks.forEach(a => {
        if (a.getAttribute('href') === hash) a.setAttribute('aria-current', 'page');
        else a.removeAttribute('aria-current');
      });
      const active = navLinks.find(a => a.getAttribute('href') === hash) || navLinks[0];
      moveUnderlineTo(active);
    };

    const getActiveHashByScroll = () => {
      if (!sections.length) return '';
      const y = window.scrollY + 140;
      let active = `#${sections[0].id}`;
      for (const section of sections) {
        if (section.offsetTop <= y) active = `#${section.id}`;
      }
      return active;
    };

    const syncNavActive = () => {
      const currentHash = window.location.hash;
      const isKnown = sections.some(s => `#${s.id}` === currentHash);
      setNavActive(isKnown ? currentHash : getActiveHashByScroll());
    };

    if (navLinks.length) {
      let navRaf = null;
      const schedule = () => {
        if (navRaf) return;
        navRaf = requestAnimationFrame(() => {
          syncNavActive();
          navRaf = null;
        });
      };

      syncNavActive();
      window.addEventListener('hashchange', syncNavActive);
      window.addEventListener('scroll', schedule, { passive: true });
      window.addEventListener('resize', schedule);

      // Hover underline follow
      navLinks.forEach(a => {
        a.addEventListener('mouseenter', () => moveUnderlineTo(a));
        a.addEventListener('focus', () => moveUnderlineTo(a));
      });
      navMenu?.addEventListener('mouseleave', () => syncNavActive());
    }

    /* ---------------------------
     * Cursor (transform + rAF)
     * --------------------------*/
    if (!prefersReduced && finePointer) {
      document.body.classList.add('cursor-on');
      const cursor = document.querySelector('.cursor');
      const triggers = document.querySelectorAll('.hover-trigger');

      let mx = 0, my = 0, raf = null;
      window.addEventListener('mousemove', (e) => {
        mx = e.clientX;
        my = e.clientY;
        if (!raf) {
          raf = requestAnimationFrame(() => {
            cursor.style.setProperty('--x', mx + 'px');
            cursor.style.setProperty('--y', my + 'px');
            raf = null;
          });
        }
      }, { passive: true });

      triggers.forEach(el => {
        el.addEventListener('mouseenter', () => cursor.classList.add('active'));
        el.addEventListener('mouseleave', () => cursor.classList.remove('active'));
      });
    }

    /* ---------------------------
     * Reveal helpers (group stagger + single reveal)
     * --------------------------*/
    const seen = new WeakSet();
    const isParallaxCard = (el) => el && (el.id === 'heroCardWrap' || el.hasAttribute('data-parallax'));

    const revealBatch = (els, delayStart = 0) => {
      const list = Array.from(els).filter(el => el && !seen.has(el));
      if (!list.length) return;
      list.forEach(el => seen.add(el));

      const special = list.filter(isParallaxCard);
      const normal = list.filter(el => !isParallaxCard(el));

      if (normal.length) {
        anime({
          targets: normal,
          opacity: [0, 1],
          translateY: [10, 0],
          duration: 700,
          delay: anime.stagger(70, { start: delayStart }),
          easing: 'easeOutCubic'
        });
      }
      if (special.length) {
        anime({
          targets: special,
          opacity: [0, 1],
          duration: 650,
          delay: anime.stagger(70, { start: delayStart }),
          easing: 'easeOutCubic'
        });
      }
    };

    if (!prefersReduced) {
      // Above-the-fold reveal
      const firstBatch = document.querySelectorAll('section:first-of-type [data-reveal]');
      revealBatch(firstBatch, 80);

      // Group reveal (data-stagger)
      const groupIO = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          const group = entry.target;
          const targets = group.querySelectorAll('[data-reveal]');
          revealBatch(targets, 0);
          groupIO.unobserve(group);
        });
      }, { threshold: 0.12, rootMargin: '0px 0px -10% 0px' });

      document.querySelectorAll('[data-stagger]').forEach(g => groupIO.observe(g));

      // Single reveal for elements not inside a stagger group
      const singleIO = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          revealBatch([entry.target], 0);
          singleIO.unobserve(entry.target);
        });
      }, { threshold: 0.12, rootMargin: '0px 0px -10% 0px' });

      document.querySelectorAll('[data-reveal]').forEach(el => {
        if (el.closest('[data-stagger]')) return;
        singleIO.observe(el);
      });

      // Micro hover lift for animated cards
      const cards = document.querySelectorAll('[data-anim]');
      cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          anime.remove(card);
          anime({ targets: card, translateY: -2, duration: 220, easing: 'easeOutQuad' });
        });
        card.addEventListener('mouseleave', () => {
          anime.remove(card);
          anime({ targets: card, translateY: 0, duration: 260, easing: 'easeOutQuad' });
        });
      });
    } else {
      // reduced motion: show everything
      document.querySelectorAll('[data-reveal]').forEach(el => {
        el.style.opacity = 1;
        el.style.transform = 'none';
      });
    }

    /* ---------------------------
     * Hero card: parallax + tilt + spotlight (single loop via CSS vars)
     * --------------------------*/
    const heroWrap = document.getElementById('heroCardWrap');
    if (!prefersReduced && heroWrap) {
      let tY = 0, cY = 0, tR = 0, cR = 0;
      let tRX = 0, cRX = 0, tRY = 0, cRY = 0;

      const clamp = (v, a, b) => Math.max(a, Math.min(b, v));

      const onScroll = () => {
        const y = window.scrollY || 0;
        tY = clamp(y * 0.12, 0, 170);
        tR = clamp(-y * 0.0018, -2.4, 0);
      };
      window.addEventListener('scroll', onScroll, { passive: true });
      onScroll();

      if (finePointer && heroWrap.hasAttribute('data-tilt')) {
        heroWrap.addEventListener('mousemove', (e) => {
          const rect = heroWrap.getBoundingClientRect();
          const px = (e.clientX - rect.left) / rect.width;
          const py = (e.clientY - rect.top) / rect.height;

          if (heroWrap.hasAttribute('data-spotlight')) {
            heroWrap.style.setProperty('--mx', `${px * 100}%`);
            heroWrap.style.setProperty('--my', `${py * 100}%`);
          }

          const maxDeg = 8;
          tRX = clamp((0.5 - py) * maxDeg * 2, -maxDeg, maxDeg);
          tRY = clamp((px - 0.5) * maxDeg * 2, -maxDeg, maxDeg);
        }, { passive: true });

        heroWrap.addEventListener('mouseleave', () => {
          tRX = 0; tRY = 0;
          heroWrap.style.setProperty('--mx', `50%`);
          heroWrap.style.setProperty('--my', `50%`);
        });
      }

      const tick = () => {
        cY += (tY - cY) * 0.10;
        cR += (tR - cR) * 0.10;
        cRX += (tRX - cRX) * 0.12;
        cRY += (tRY - cRY) * 0.12;

        heroWrap.style.setProperty('--py', `${cY}px`);
        heroWrap.style.setProperty('--pr', `${cR}deg`);
        heroWrap.style.setProperty('--rx', `${cRX}deg`);
        heroWrap.style.setProperty('--ry', `${cRY}deg`);

        requestAnimationFrame(tick);
      };
      requestAnimationFrame(tick);
    }

    /* ---------------------------
     * Count-up (Available)
     * --------------------------*/
    const countEls = Array.from(document.querySelectorAll('[data-countup]'));
    const formatInt = (n) => Number(n).toLocaleString('en-US');

    function animateCount(el, to, decimals = 2, duration = 650) {
      const start = performance.now();
      const from = 0;
      const pow = Math.pow(10, decimals);

      const intNode = el.querySelector('[data-countup-int]');
      const decNode = el.querySelector('[data-countup-dec]');

      function setVal(val) {
        const fixed = (Math.round(val * pow) / pow).toFixed(decimals);
        const parts = fixed.split('.');
        const intPart = formatInt(parts[0]);
        const decPart = (parts[1] || '').padEnd(decimals, '0');

        if (intNode && decNode) {
          intNode.textContent = intPart;
          decNode.textContent = decPart;
        } else {
          el.textContent = fixed;
        }
      }

      function tick(now) {
        const t = Math.max(0, Math.min(1, (now - start) / duration));
        const eased = 1 - Math.pow(1 - t, 3);
        setVal(from + (to - from) * eased);
        if (t < 1) requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);
    }

    if (countEls.length) {
      if (prefersReduced) {
        countEls.forEach(el => {
          const to = parseFloat(el.getAttribute('data-to') || '0');
          const decimals = parseInt(el.getAttribute('data-decimals') || '2', 10);
          const pow = Math.pow(10, decimals);
          const fixed = (Math.round(to * pow) / pow).toFixed(decimals);
          const [i, d] = fixed.split('.');
          const intNode = el.querySelector('[data-countup-int]');
          const decNode = el.querySelector('[data-countup-dec]');
          if (intNode && decNode) { intNode.textContent = formatInt(i); decNode.textContent = d; }
          else el.textContent = fixed;
        });
      } else {
        const io = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (!entry.isIntersecting) return;
            const el = entry.target;
            const to = parseFloat(el.getAttribute('data-to') || '0');
            const decimals = parseInt(el.getAttribute('data-decimals') || '2', 10);
            animateCount(el, to, decimals, 650);
            io.unobserve(el);
          });
        }, { threshold: 0.45 });

        countEls.forEach(el => io.observe(el));
      }
    }

    /* ---------------------------
     * Recent activity flow (vertical loop)
     * - cycles items smoothly
     * - pauses on hover/focus
     * --------------------------*/
    function initActivityFlow() {
      if (prefersReduced) return;

      const containers = Array.from(document.querySelectorAll('[data-activity-flow]'));
      containers.forEach((container) => {
        const list = container.querySelector('[data-activity-list]');
        if (!list) return;

        const getItems = () => Array.from(list.children).filter(n => n.nodeType === 1);
        if (getItems().length < 2) return;

        let intervalId = null;
        let running = false;

        const getStep = () => {
          const items = getItems();
          if (items.length < 2) return items[0]?.getBoundingClientRect().height || 0;
          const r0 = items[0].getBoundingClientRect();
          const r1 = items[1].getBoundingClientRect();
          // includes gap distance
          return Math.max(0, r1.top - r0.top);
        };

        const cycleOnce = () => {
          if (running) return;
          const items = getItems();
          if (items.length < 2) return;

          const step = getStep();
          if (!step) return;

          running = true;
          list.style.transition = 'transform 620ms cubic-bezier(0.2, 0.8, 0.2, 1)';
          list.style.transform = `translate3d(0, -${step}px, 0)`;

          const onEnd = () => {
            list.removeEventListener('transitionend', onEnd);
            // move first item to end
            list.appendChild(items[0]);

            // reset without animation
            list.style.transition = 'none';
            list.style.transform = 'translate3d(0, 0, 0)';
            // force reflow before re-enabling
            void list.offsetHeight;

            running = false;
          };

          list.addEventListener('transitionend', onEnd, { once: true });
        };

        const start = () => {
          if (intervalId) return;
          intervalId = window.setInterval(cycleOnce, 2400);
        };
        const stop = () => {
          if (!intervalId) return;
          window.clearInterval(intervalId);
          intervalId = null;
        };

        // start after initial hero reveal
        window.setTimeout(start, 900);

        container.addEventListener('mouseenter', stop);
        container.addEventListener('mouseleave', () => window.setTimeout(start, 200));
        container.addEventListener('focusin', stop);
        container.addEventListener('focusout', () => window.setTimeout(start, 200));

        // keep stable on resize
        window.addEventListener('resize', () => {
          stop();
          list.style.transition = 'none';
          list.style.transform = 'translate3d(0,0,0)';
          window.setTimeout(start, 250);
        });
      });
    }

    initActivityFlow();
  </script>
</body>

</html>
